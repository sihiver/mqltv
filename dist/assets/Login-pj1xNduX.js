import{u as x,r as f,a as b,c as k,b as s,w as o,d as r,e as L,o as P,f as R,g as _,h as S,i as T,l as U,j as z,k as d,E as m}from"./index-C_R8r6mj.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"login-container"},E={__name:"Login",setup(F){const g=L(),w=x(),l=f(),t=f(!1),a=b({username:"",password:""}),h={username:[{required:!0,message:"Username harus diisi",trigger:"blur"}],password:[{required:!0,message:"Password harus diisi",trigger:"blur"}]},n=async()=>{l.value&&await l.value.validate(async p=>{if(p){t.value=!0;try{const e=await w.login(a);e.success?(m.success("Login berhasil!"),g.push("/")):m.error(e.message)}catch{m.error("Terjadi kesalahan saat login")}finally{t.value=!1}}})};return(p,e)=>{const c=r("el-input"),i=r("el-form-item"),y=r("el-button"),v=r("el-form"),V=r("el-card");return P(),k("div",C,[s(V,{class:"login-card"},{header:o(()=>[...e[2]||(e[2]=[d("div",{class:"logo"},[d("h1",null,"ðŸŽ¬ MQL IPTV Panel"),d("p",null,"Kelola Playlist & Stream Relay IPTV Anda")],-1)])]),default:o(()=>[s(v,{ref_key:"loginFormRef",ref:l,model:a,rules:h,onSubmit:R(n,["prevent"])},{default:o(()=>[s(i,{prop:"username"},{default:o(()=>[s(c,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=u=>a.username=u),placeholder:"Username",size:"large","prefix-icon":_(S)},null,8,["modelValue","prefix-icon"])]),_:1}),s(i,{prop:"password"},{default:o(()=>[s(c,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=u=>a.password=u),type:"password",placeholder:"Password",size:"large","prefix-icon":_(U),"show-password":"",onKeyup:T(n,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),s(i,null,{default:o(()=>[s(y,{type:"primary",size:"large",loading:t.value,onClick:n,style:{width:"100%"}},{default:o(()=>[...e[3]||(e[3]=[z(" Login ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}},M=B(E,[["__scopeId","data-v-067bdaf5"]]);export{M as default};
