var h=(n,u,i)=>new Promise((m,p)=>{var g=r=>{try{t(i.next(r))}catch(a){p(a)}},o=r=>{try{t(i.throw(r))}catch(a){p(a)}},t=r=>r.done?m(r.value):Promise.resolve(r.value).then(g,o);t((i=i.apply(n,u)).next())});import{a as C,_ as F,u as V,F as A}from"./useValidator-BazCkkR9.js";import{b as j,g as P}from"./index-n5sMTVMS.js";import{w as B}from"./element-plus-BfIdfe-G.js";import{j as E,r as w,N as R,G as l,u as c,F as _,C as $,l as N,$ as U}from"./vue-chunks-B2QQ4E8c.js";/* empty css                     *//* empty css               *//* empty css                  *//* empty css               *//* empty css                    *//* empty css                    *//* empty css                   *//* empty css                  *//* empty css                  *//* empty css                      */function b(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!U(n)}const Z=E({__name:"RegisterForm",emits:["to-login"],setup(n,{emit:u}){const i=u,{formRegister:m,formMethods:p}=C(),{getElFormExpose:g}=p,{t:o}=j(),{required:t,check:r}=V(),a=w(60),d=w(!1),k=()=>{d.value=!0;const e=setInterval(()=>{a.value--,a.value<=0&&(clearInterval(e),a.value=60,d.value=!1)},1e3)},y=R([{field:"title",colProps:{span:24},formItemProps:{slots:{default:()=>l("h2",{class:"text-2xl font-bold text-center w-[100%]"},[o("login.register")])}}},{field:"username",label:o("login.username"),value:"",component:"Input",colProps:{span:24},componentProps:{placeholder:o("login.usernamePlaceholder")}},{field:"password",label:o("login.password"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:o("login.passwordPlaceholder")}},{field:"check_password",label:o("login.checkPassword"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:o("login.passwordPlaceholder")}},{field:"code",label:o("login.code"),colProps:{span:24},formItemProps:{slots:{default:e=>l("div",{class:"w-[100%] flex"},[l(B,{modelValue:e.code,"onUpdate:modelValue":s=>e.code=s,placeholder:o("login.codePlaceholder")},null),l(P,{type:"primary",disabled:c(d),class:"ml-10px",onClick:k},{default:()=>[o("login.getCode"),c(d)?`(${c(a)})`:""]})])}}},{field:"iAgree",colProps:{span:24},formItemProps:{slots:{default:e=>l(_,null,[l(F,{modelValue:e.iAgree,"onUpdate:modelValue":s=>e.iAgree=s,text:"我同意《用户协议》",link:[{text:"《用户协议》",url:"https://element-plus.org/"}]},null)])}}},{field:"register",colProps:{span:24},formItemProps:{slots:{default:()=>{let e,s;return l(_,null,[l("div",{class:"w-[100%]"},[l(P,{type:"primary",class:"w-[100%]",loading:f.value,onClick:I},b(e=o("login.register"))?e:{default:()=>[e]})]),l("div",{class:"w-[100%] mt-15px"},[l(P,{class:"w-[100%]",onClick:v},b(s=o("login.hasUser"))?s:{default:()=>[s]})])])}}}}]),x={username:[t()],password:[t()],check_password:[t()],code:[t()],iAgree:[t(),r()]},v=()=>{i("to-login")},f=w(!1),I=()=>h(this,null,function*(){const e=yield g();e==null||e.validate(s=>h(this,null,function*(){if(s)try{f.value=!0,v()}finally{f.value=!1}}))});return(e,s)=>(N(),$(c(A),{schema:y,rules:x,"label-position":"top","hide-required-asterisk":"",size:"large",class:"dark:border-1 dark:border-[var(--el-border-color)] dark:border-solid",onRegister:c(m)},null,8,["schema","onRegister"]))}});export{Z as default};
