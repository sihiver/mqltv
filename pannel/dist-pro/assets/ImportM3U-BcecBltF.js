var x=(y,m,e)=>new Promise((p,n)=>{var l=s=>{try{r(e.next(s))}catch(u){n(u)}},d=s=>{try{r(e.throw(s))}catch(u){n(u)}},r=s=>s.done?p(s.value):Promise.resolve(s.value).then(l,d);r((e=e.apply(y,m)).next())});import{_}from"./ContentWrap.vue_vue_type_script_setup_true_lang-C2ZlXlGE.js";import{r as U}from"./index-edGwmMvL.js";/* empty css                     */import{u as h,v as f,w as g,c as I,b as c}from"./element-plus-B47XQz09.js";import{j as V,r as v,N as w,a5 as M,C as N,l as P,D as i,t as a,G as t,u as o,_ as b}from"./vue-chunks-B2QQ4E8c.js";/* empty css                  */const C={style:{"max-width":"600px"}},S=V({__name:"ImportM3U",setup(y){const m=v(!1),e=w({name:"",url:""}),p=()=>x(this,null,function*(){var n;if(!e.name||!e.url){c.warning("Name and URL are required");return}m.value=!0;try{const l=yield U.post({url:"/api/playlists/import",data:e});c.success(`Playlist imported successfully! ${((n=l.data)==null?void 0:n.channels)||0} channels added`),e.name="",e.url=""}catch(l){c.error("Failed to import playlist")}finally{m.value=!1}});return(n,l)=>{const d=M("Icon");return P(),N(o(_),{title:"Import M3U Playlist",message:"Import channels from M3U URL"},{default:i(()=>[a("div",C,[t(o(h),{model:e,"label-width":"120px"},{default:i(()=>[t(o(f),{label:"Playlist Name"},{default:i(()=>[t(o(g),{modelValue:e.name,"onUpdate:modelValue":l[0]||(l[0]=r=>e.name=r),placeholder:"e.g., My Channels"},null,8,["modelValue"])]),_:1}),t(o(f),{label:"M3U URL"},{default:i(()=>[t(o(g),{modelValue:e.url,"onUpdate:modelValue":l[1]||(l[1]=r=>e.url=r),type:"textarea",rows:4,placeholder:"https://example.com/playlist.m3u"},null,8,["modelValue"])]),_:1}),t(o(f),null,{default:i(()=>[t(o(I),{type:"primary",onClick:p,loading:m.value},{default:i(()=>[t(d,{icon:"ep:upload"}),l[2]||(l[2]=b(" Import Playlist "))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),l[3]||(l[3]=a("div",{style:{"margin-top":"24px",padding:"16px",background:"#f5f7fa","border-radius":"4px"}},[a("h4",{style:{margin:"0 0 8px 0","font-size":"14px"}},"Supported Formats:"),a("ul",{style:{margin:"0","padding-left":"20px","font-size":"13px",color:"#606266"}},[a("li",null,"Standard M3U/M3U8 playlists"),a("li",null,"EXTINF format with channel names and logos"),a("li",null,"Group titles for categories"),a("li",null,"Both HTTP and HTTPS URLs")])],-1))])]),_:1})}}});export{S as default};
